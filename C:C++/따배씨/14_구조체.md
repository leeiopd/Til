# 따배씨 - 따라하며 배우는 C언어

### 14강 구조체

14.1 구조체 Structures 가 필요한 이유

* 많은 데이터를 처리 하기 위히여 사용
  * 자료형이 다르지만 함께 사용하면 편리한 데이터 오브젝트끼리 모아둔 것
    * 배열은 자료형이 같은 데이터 오브젝트들이 나열된 형태

![14_1_1_구조체](imgs/14_1_1.png)

* 서로 자료형이 다르더라도 묶어서 하나의 새로운 자료형인 것 처럼 사용

* ```c
  struct Patient p1, p2, p3;	// structure variables
  ```

  * 새로운 자료형으로 변수/배열 을 선언할 수 있음

* Dot(.) 연산자는 구조체의 member 에 접근하는 연산자



##### 14.2 구조체 Strucutres 의 기본적인 사용법

```c
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#define MAX 41

struct person   /* person is a tag of structure */
{
    char name[MAX];
    int age;
    float height;
};

int main()
{
    int flag;   // Receives retur value of scanf()
    
    /* Structre variable */
    
    struct person genie;
    
    /* dot(.) is strucutre membership operator (member access operator, member operater) */

    strcpy(genie.name, "Will Smith");
    //strncpy(genie.name, "Will Smith", MAX);
    
    genie.age = 1000;
    
    // dot(.) has height percedence than &
    flag = scanf("%f", &genie.height);    // &(genie.height)
    printf("%f\n", genie.height);
    
    /* Initialization */
    struct person princess = {"Naomi Scott", 18, 160.0f};
    
    struct person princess2 = {
        "Naomi Scott",
        18,
        160.0f
    };
    
    strcpy(princess.name, "Naomi Scott");
    princess.age = 18;
    princess.height = 160.0f;
    
    /* Designated initializers */
    
    struct person beauty = {
        .age = 19,
        .name = "bell",
        .height = 150.0f
    };
    
    // struct person beauty = {.age = 19, name = "Bell", .height = 150.0f };
    
    /* Pointer to a strucutre variable */
    struct person* someone;
    
    someone = &genie;
    // someone = (struct Person*)malloc(sizeof(struct person)); // and free later
    
    /* Indirect member(ship) opertor (or structre pointr operator) */
    someone -> age = 1001; // arrow(->) operator
    printf("%s %d\n", someone->name, (*someone).age);
    
    /* Strucutre declarations in a function */
    
    struct book
    {
        char title[MAX];
        float price;
    };
    
    /* No tag */
    // 일회성 구조체를 생성
    struct {
        char farm[MAX];
        float price;
    } apple, apple2;
    
    strcpy(apple.farm, "Trade Jeo");
    apple.price = 1.2f;
    
    strcpy(apple2.farm, "Safeway");
    apple2.price = 5.6f;
    
    /* typeof and strucutre */
    
    typedef struct person my_person;
    //typedef 타입을 선언
    
    my_person p3;
    
    typedef  struct person person;
    
    person p4;
    
    typedef struct{
        char name[MAX];
        char nobody[MAX];
    } friend;
    
    friend f4;
    
    return 0;
}
```

