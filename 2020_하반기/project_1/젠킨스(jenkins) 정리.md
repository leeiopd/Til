

# 젠킨스(jenkins)



>  ### 젠킨스(jenkins)란?

*   젠킨스는 소프트웨어 개발 시 지속적으로 통합 서비스를 제공하는 툴입니다. CI(Continuous Integration) 툴 이라고 표현합니다.
*   다수의 개발자들이 하나의 프로그램을 개발할 때 버전 충돌을 방지하기 위해 각자 작업한 내용을 공유영역에 있는 저장소에 빈번히 업로드함으로써 지속적 통합이 가능하도록 해줍니다.
* 원래 허드슨 프로젝트로 개발되었고, 허드슨의 개발은 2004년 여름 썬 마이크로시스템즈에서 시작되었습니다. 그리고 2005년 2월에 java.net에 처음 출시되었습니다.



> ### 젠킨스(jenkins)가 주는 이점

* 프로젝트 표준 컴파일 환경에서의 컴파일 오류 검출

  * 프로젝트 기간 중에 개발자들은 DB 셋업, 환경설정, Deploy 작업과 같은 단순 작업에 시간과 노력을 들이는 경우가 빈번하다.

    데이터베이스의 구축, 애플리케이션 서버로의 Deploy, 라이브러리 릴리즈와 같이 이전에 CLI로 실행되던 작업들이 젠킨스 덕분에 웹 인터페이스로 쉽게 가능해졌다.

* 자동화 테스트 수행
  
*   자동화 테스트는 젠킨스를 사용해야 하는 가장 큰 이유 중 하나이며, 사실상 자동화 테스트가 포함되지 않은 빌드는 CI자체가 불가능하다고 봐도 무방합니다. 젠킨스는 Subversion이나 Git과 같은 버전관리시스템과 연동하여 코드 변경을 감지하고 자동화 테스트를 수행하기 때문에 만약 개인이 미처 실시하지 못한 테스트가 있다 하여도 든든한 안전망이 되어줍니다. 제대로 테스트를 거치지 않은 코드를 커밋하게 되면 화난 젠킨스를 만나게 됩니다.
  
* 정적 코드 분석에 의한 코딩 규약 준수여부 체크

  *   자동화 테스트와 마찬가지로 개인이 미처 실시하지 못한 코드 표준 준수 여부의 검사나 정적 분석을 통한 코드 품질 검사를 빌드 내부에서 수행함으로써 기술적 부채의 감소에도 크게 기여합니다.

    

* 프로파일링 툴을 이용한 소스 변경에 따른 성능 변화 감시
  
* 빌드 툴의 경우 Java는 maven과 gradle이 자리 잡고 있으며, 이미 빌드 관리 툴을 이용해 프로젝트를 진행하고 있다면 젠킨스(Jenkins)를 사용하지 않을 이유가 없다. 젠킨스와 연동하여 빌드 자동화를 통해 프로젝트 진행의 효율성을 높일 수 있다.
  
* 결합 테스트 환경에 대한 배포작업
* 500여가지가 넘는 플러그인을 온라인으로 간단하게 인스톨 할 수 있는 기능
  
  *   파이썬과 같은 스크립트를 이용해 손쉽게 자신에게 필요한 기능을 추가 할 수도 있습니다.
* 빌드 파이프라인 구성
  
  *   2개 이상의 모듈로 구성되는 레이어드 아키텍처가 적용 된 프로젝트에는 그에 따는 빌드 파이프라인 구성이 필요하다. 예를 들면, `도메인 -> 서비스 -> UI`와 같이 각 레이어의 참조 관계에 따라 순차적으로 빌드를 진행하지 않으면 안된다. 젠킨스에서는 이러한 빌드 파이프라인의 구성을 간단히 할 수 있으며, 스크립트를 통해서 매우 복잡한 제어까지도 가능하다.
* Build 자동화의 확립
  
  *   빌드 툴의 경우 Java는 maven과 gradle이 자리잡고 있으며, 이미 빌드 관리 툴을 이용해 프로젝트를 진행하고 있다면 젠킨스를 사용하지 않을 이유가 하나도 없다. 젠킨스와 연동하여 빌드 자동화를 통해 프로젝트 진행의 효율성을 높일 수 있다.



> ### 젠킨스가 CI(Continuous Integration)를 하는 과정

1. 개발자들이 깃헙에 코드 공유 
2. 젠킨스가 깃헙에 있는 코드를 가져와서 오류 체크 
3. 젠킨스가 의존관계에 있는 라이브러리들을 다운받습니다. 
4. 테스트 코드가 있으면 테스트를 실행합니다. 
5. 테스트에 성공할 경우, 빌드를 해서 실서버에 재배포합니다. 



> ### 젠킨스에 대한 오해 

젠킨스에 대해 오해할 만한 것이 있는데, 젠킨스는 빌드, 테스트, 배포 등을 직접 실행하는것이 아닙니다. 단지 빌드, 테스트, 배포를 실행시키는 역할을 할 뿐입니다.

`즉 workflow를 제어하는 것이지, 소스를 가져오거나 Maven을 직접 실행하는것이 아닙니다.`





> ### 젠킨스 설치 및 구동 

젠킨스는 자바로 개발되었으며 서블릿 컨테이너 위에서 구동된다. 따라서 WAS인 Toacat, Jetty 등 서블릿 컨테이너를 설치하고 이 위에서 젠킨스 war파일로 구동합니다.

각 OS별로 별도의 설치파일을 제공하고 있으나, OS에 제한적이지 않고 WAS에 배포함으로써 구동할 수 있도록 .war파일을 다운받았습니다.



> ### jenkins 설치  

- <https://jenkins.io/> 접속 후 LTS 버전 탭 이동
- Download Jenkins X.XX.XX for Generic Java Package(.war) 파일 설치



> ### jenkins 구동

- Tomcat의 설치 위치로 이동한다.
- webapps 폴더 아래 설치한 jenkins.war파일을 배포하고 Tomcat을 구동한다.
- Tomcat의 구동은 파일 탐색기 진입 후 C:\ProgramData\Microsoft\Windows\Start Menu\Programs\Administrative Tools 이동 "서비스" 앱 실행 또는 시작메뉴 -> Windows 관리도구 -> 서비스 앱을 실행 한 후 Apache Tomcat 8.5 TomcatX 서비스를 시작 시킨다.
- 웹브라우저의 주소창에 localhost:8080/jenkins 또는 127.0.0.1/jenkins 또는 자신의ip:8080/jenkins를 입력하고 접속하여 젠킨스가 정상적으로 구동 되는지 확인한다.
- 접속 후 Secret Key를 입력하는 화면이 나오면, key의 경로에서 Secret Key 값을 복사하여 입력한다.
- 키를 입력하고, lock이 풀리면 install suggested plugins를 클릭하여 기본 플러그인을 설치한다.
- 다음 순서로 관리자 계정을 만들면 젠킨스 메인 페이지 접속에 성공 할 수 있다