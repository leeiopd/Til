# 따배씨 - 따라하며 배우는 C언어

### 11강 문자열 함수들

##### 11.1 문자열 Strings 을 정의하는 방법들

```c
#include <stdio.h>

#define MESSAGE "A symbolic string contant"
#define MAXLENGTH 81

int main(){
    char words[MAXLENGTH] = "A string in an array";
    const char* pt1 = "A pointer to a string.";

    puts("Puts() adds a newline at the end:"); // puts() add \n at the end
    puts(MESSAGE);
    // A symbolic string contant
    puts(words);
    // A string in an array
    puts(pt1);
    // A pointer to a string.
    words[3] = 'p';
    puts(words);
    // A spring in an array
    
    //pt1[8] = 'A';
    
    return 0;
}
```

* ```c
  pt1[8] = 'A'; // Error
  ```

  * pt1 을 const 로 선언하였기 때문에, 값 변경 불가
  * const 없이 선언 하더라도 Error 발생, 읽기 전용 메모리에 저장된 데이터를 바꾸려고 시도하였기 때문
    * 문자열 리터럴은 프로그램으 일부이기 때문에 일기 전용 메모리에 저장
    * 운영체제가 중단 시킴



```c
#include <stdio.h>

int main(){
    char greeting[50] = "Hello, and""How are"" you"
    " today!";
    
    puts(greeting);
    // Hello, andHow are you today!
    
    return 0;
}

```

* ```c
  char greeting[50] = "Hello, and""How are"" you"
        " today!";
  ```

  * 문자열을 이용하여 따로 포현해도, 하나의 String 이 됨



```c
#include <stdio.h>

int main(){
    printf("%s %p %c\n", "We", "are", *"excellent programmers");
    // We 0x100003f8f e
    return 0;
}
```

* ```c
  printf("%p\n", "are");
  // 0x100003f8f
  ```

  * String 도 배열이기 때문에, %p로 주소값을 받아서 출력 가능

* ``` c
  printf("%c\n", *"excellent programmers");
  // e
  ```
  * "excellent programmers" 의 첫번째 주소 공간의 값이 출력됨



```c
#include <stdio.h>

#define MESSAGE "A symbolic string contant"
#define MAXLENGTH 81

int main(){
    const char m1[15] = "Love you!";
    
    for (int i = 0; i < 15; ++i){
        printf("%d ", (int)m1[i]);
    }
  	// 76 111 118 101 32 121 111 117 33 0 0 0 0 0 0 
    return 0;
}
```

* String의 초기화 하지 않은 나머지 공간을 Compiler 가 자동으로 NULL 로 초기화

* ```c
  const char m1[15] = "Love you!";
  const char m1[15] = {'L', 'o', 'v', 'e', ' ', 'y', 'o', 'u', '!', '\0'};
  ```

  *  같은 초기화 방법



##### 11.2 메모리 레이아웃 Memory Layout 과 문자열

```c
char arr[] = "Hello, World";
char* str = "Hello, World";
//str[0] = 'M'; // Error
```

* 메모리 레이아웃에서 문제 발생



![11_2_1_메모리 레이아웃](./imgs/11_2_1_메모리 레이아웃.png)

* 환경변수 : 프로그램이 실행되는 환경에 대한 변수
* Stack : 지역변수들이 저장됨, 메모리의 크기를 Compiler 가 미리 예측할 수 있는 경우에 사용, Compiler 가 준비를 할 수 있기 때문에 처리 속도가 빠름
* Heap :  메모리 공간을 알 수 없을 때 사용
* Segment : 읽기 전용 메모리, 메모리 공간의 변화 불가



![11_2_2_메모리 레이아웃2](./imgs/11_2_2_메모리 레이아웃2.png)

